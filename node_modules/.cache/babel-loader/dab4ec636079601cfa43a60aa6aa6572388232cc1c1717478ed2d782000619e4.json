{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./AdminDashboard.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AdminDashboard(){const[loans,setLoans]=useState([]);const[loading,setLoading]=useState(true);const[currentPage,setCurrentPage]=useState(1);const[loansPerPage]=useState(10);// Show 10 loans per page\n// Date filter states\nconst[selectedDate,setSelectedDate]=useState(\"\");// Single date filter\nconst[filterType,setFilterType]=useState(\"all\");// all, specific, range\nconst[startDate,setStartDate]=useState(\"\");// Date range start\nconst[endDate,setEndDate]=useState(\"\");// Date range end\nuseEffect(()=>{fetch(\"https://kopesha-backend-3.onrender.com/api/loans/all\").then(res=>res.json()).then(data=>{setLoans(data);setLoading(false);}).catch(err=>{console.error(\"Error fetching loans:\",err);setLoading(false);});},[]);// Filter loans based on date selection\nconst getFilteredLoans=()=>{if(filterType===\"all\"){return loans;}return loans.filter(loan=>{if(!loan.applicationDate)return false;const loanDate=new Date(loan.applicationDate);loanDate.setHours(0,0,0,0);// Remove time component for date comparison\nif(filterType===\"specific\"){if(!selectedDate)return true;const selected=new Date(selectedDate);selected.setHours(0,0,0,0);return loanDate.getTime()===selected.getTime();}if(filterType===\"range\"){if(!startDate||!endDate)return true;const start=new Date(startDate);const end=new Date(endDate);start.setHours(0,0,0,0);end.setHours(23,59,59,999);return loanDate>=start&&loanDate<=end;}return true;});};const filteredLoans=getFilteredLoans();const indexOfLastLoan=currentPage*loansPerPage;const indexOfFirstLoan=indexOfLastLoan-loansPerPage;const currentLoans=filteredLoans.slice(indexOfFirstLoan,indexOfLastLoan);const handleDelete=async trackingId=>{if(!window.confirm(\"Are you sure you want to delete this loan?\"))return;console.log(\"Deleting: \"+trackingId);const loanFound=loans.find(loan=>loan.trackingId===trackingId);console.log(\"Found loan?\",!!loanFound);try{const res=await fetch(\"https://kopesha-backend-3.onrender.com/api/loans/delete/\".concat(trackingId),{method:\"DELETE\"});const data=await res.json();if(res.ok){alert(\"Loan \".concat(trackingId,\" deleted successfully\"));setLoans(loans.filter(loan=>loan.trackingId!==trackingId));}else{alert(data.error||\"Failed to delete loan\");}}catch(err){console.error(\"Error deleting loan:\",err);alert(\"Error deleting loan. Check console.\");}};// Calculate totals - Only count PAID loans from FILTERED data\nconst calculateTotals=()=>{const paidLoans=filteredLoans.filter(loan=>loan.status===\"PAID\");const totalVerificationFees=paidLoans.reduce((sum,loan)=>sum+(loan.verificationFee||0),0);const totalLoanAmount=paidLoans.reduce((sum,loan)=>sum+(loan.loanAmount||0),0);const successfulPayments=paidLoans.length;return{totalVerificationFees,totalLoanAmount,successfulPayments,totalApplications:filteredLoans.length};};// Reset filters\nconst resetFilters=()=>{setFilterType(\"all\");setSelectedDate(\"\");setStartDate(\"\");setEndDate(\"\");setCurrentPage(1);};if(loading)return/*#__PURE__*/_jsx(\"h2\",{className:\"loading\",children:\"Loading loan applications...\"});const{totalVerificationFees,totalLoanAmount,successfulPayments,totalApplications}=calculateTotals();const totalPages=Math.ceil(filteredLoans.length/loansPerPage);const goToPage=pageNumber=>{setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"dashboard-title\",children:\"Loan Applications Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filter Applications by Date\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-btn\",onClick:resetFilters,children:\"Reset Filters\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filter Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>{setFilterType(e.target.value);setCurrentPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Applications\"}),/*#__PURE__*/_jsx(\"option\",{value:\"specific\",children:\"Specific Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"range\",children:\"Date Range\"})]})]}),filterType===\"specific\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>{setSelectedDate(e.target.value);setCurrentPage(1);}})]}),filterType===\"range\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:e=>{setStartDate(e.target.value);setCurrentPage(1);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"End Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:e=>{setEndDate(e.target.value);setCurrentPage(1);}})]})]})]}),filterType!==\"all\"&&/*#__PURE__*/_jsxs(\"p\",{className:\"filter-info\",children:[\"Showing \",currentLoans.length,\" of \",filteredLoans.length,\" applications\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Total Applications\"}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-value\",children:totalApplications})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Successful Payments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-value\",style:{color:'#28a745'},children:successfulPayments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Total Verification Fees Paid\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-value\",style:{color:'#007bff'},children:[\"Ksh \",totalVerificationFees.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Total Loan Amount Qualified\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-value\",style:{color:'#ffc107'},children:[\"Ksh \",totalLoanAmount.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-wrapper\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"loan-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Verification Fee\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date Applied\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentLoans.length>0?currentLoans.map(loan=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:loan.id}),/*#__PURE__*/_jsx(\"td\",{children:loan.name}),/*#__PURE__*/_jsx(\"td\",{children:loan.phone}),/*#__PURE__*/_jsx(\"td\",{children:loan.idNumber}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Ksh \",loan.loanAmount.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Ksh \",loan.verificationFee]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(loan.status.toLowerCase()),children:loan.status})}),/*#__PURE__*/_jsx(\"td\",{children:loan.applicationDate?new Date(loan.applicationDate).toLocaleDateString('en-KE',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'}):'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(loan.trackingId),children:\"Delete\"})})]},loan.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",style:{textAlign:'center',padding:'20px'},children:\"No applications found for the selected date filter\"})})})]}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:currentPage===1,onClick:()=>setCurrentPage(currentPage-1),children:\"Prev\"}),[...Array(totalPages)].map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:currentPage===index+1?\"active\":\"\",onClick:()=>goToPage(index+1),children:index+1},index)),/*#__PURE__*/_jsx(\"button\",{disabled:currentPage===totalPages,onClick:()=>setCurrentPage(currentPage+1),children:\"Next\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","loans","setLoans","loading","setLoading","currentPage","setCurrentPage","loansPerPage","selectedDate","setSelectedDate","filterType","setFilterType","startDate","setStartDate","endDate","setEndDate","fetch","then","res","json","data","catch","err","console","error","getFilteredLoans","filter","loan","applicationDate","loanDate","Date","setHours","selected","getTime","start","end","filteredLoans","indexOfLastLoan","indexOfFirstLoan","currentLoans","slice","handleDelete","trackingId","window","confirm","log","loanFound","find","concat","method","ok","alert","calculateTotals","paidLoans","status","totalVerificationFees","reduce","sum","verificationFee","totalLoanAmount","loanAmount","successfulPayments","length","totalApplications","resetFilters","className","children","totalPages","Math","ceil","goToPage","pageNumber","onClick","value","onChange","e","target","type","style","color","toLocaleString","map","id","name","phone","idNumber","toLowerCase","toLocaleDateString","year","month","day","hour","minute","colSpan","textAlign","padding","disabled","Array","_","index"],"sources":["/home/kipchirchir/loan/kopesha-loan-app/src/components/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./AdminDashboard.css\";\n\nexport default function AdminDashboard() {\n  const [loans, setLoans] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loansPerPage] = useState(10); // Show 10 loans per page\n\n  // Date filter states\n  const [selectedDate, setSelectedDate] = useState(\"\"); // Single date filter\n  const [filterType, setFilterType] = useState(\"all\"); // all, specific, range\n  const [startDate, setStartDate] = useState(\"\"); // Date range start\n  const [endDate, setEndDate] = useState(\"\"); // Date range end\n\n  useEffect(() => {\n    fetch(\"https://kopesha-backend-3.onrender.com/api/loans/all\")\n      .then(res => res.json())\n      .then(data => {\n        setLoans(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error(\"Error fetching loans:\", err);\n        setLoading(false);\n      });\n  }, []);\n\n  // Filter loans based on date selection\n  const getFilteredLoans = () => {\n    if (filterType === \"all\") {\n      return loans;\n    }\n\n    return loans.filter(loan => {\n      if (!loan.applicationDate) return false;\n\n      const loanDate = new Date(loan.applicationDate);\n      loanDate.setHours(0, 0, 0, 0); // Remove time component for date comparison\n\n      if (filterType === \"specific\") {\n        if (!selectedDate) return true;\n        const selected = new Date(selectedDate);\n        selected.setHours(0, 0, 0, 0);\n        return loanDate.getTime() === selected.getTime();\n      }\n\n      if (filterType === \"range\") {\n        if (!startDate || !endDate) return true;\n        const start = new Date(startDate);\n        const end = new Date(endDate);\n        start.setHours(0, 0, 0, 0);\n        end.setHours(23, 59, 59, 999);\n        return loanDate >= start && loanDate <= end;\n      }\n\n      return true;\n    });\n  };\n\n  const filteredLoans = getFilteredLoans();\n\n  const indexOfLastLoan = currentPage * loansPerPage;\n  const indexOfFirstLoan = indexOfLastLoan - loansPerPage;\n  const currentLoans = filteredLoans.slice(indexOfFirstLoan, indexOfLastLoan);\n\n  const handleDelete = async (trackingId) => {\n    if (!window.confirm(\"Are you sure you want to delete this loan?\")) return;\n\n    console.log(\"Deleting: \" + trackingId);\n\n    const loanFound = loans.find(loan => loan.trackingId === trackingId);\n    console.log(\"Found loan?\", !!loanFound);\n\n    try {\n      const res = await fetch(`https://kopesha-backend-3.onrender.com/api/loans/delete/${trackingId}`, {\n        method: \"DELETE\"\n      });\n\n      const data = await res.json();\n\n      if (res.ok) {\n        alert(`Loan ${trackingId} deleted successfully`);\n        setLoans(loans.filter(loan => loan.trackingId !== trackingId));\n      } else {\n        alert(data.error || \"Failed to delete loan\");\n      }\n    } catch (err) {\n      console.error(\"Error deleting loan:\", err);\n      alert(\"Error deleting loan. Check console.\");\n    }\n  };\n\n  // Calculate totals - Only count PAID loans from FILTERED data\n  const calculateTotals = () => {\n    const paidLoans = filteredLoans.filter(loan => loan.status === \"PAID\");\n\n    const totalVerificationFees = paidLoans.reduce((sum, loan) => sum + (loan.verificationFee || 0), 0);\n    const totalLoanAmount = paidLoans.reduce((sum, loan) => sum + (loan.loanAmount || 0), 0);\n    const successfulPayments = paidLoans.length;\n\n    return {\n      totalVerificationFees,\n      totalLoanAmount,\n      successfulPayments,\n      totalApplications: filteredLoans.length\n    };\n  };\n\n  // Reset filters\n  const resetFilters = () => {\n    setFilterType(\"all\");\n    setSelectedDate(\"\");\n    setStartDate(\"\");\n    setEndDate(\"\");\n    setCurrentPage(1);\n  };\n\n  if (loading) return <h2 className=\"loading\">Loading loan applications...</h2>;\n\n  const { totalVerificationFees, totalLoanAmount, successfulPayments, totalApplications } = calculateTotals();\n\n  const totalPages = Math.ceil(filteredLoans.length / loansPerPage);\n  const goToPage = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <div className=\"admin-container\">\n      <h2 className=\"dashboard-title\">Loan Applications Dashboard</h2>\n\n      {/* -------- DATE FILTER SECTION -------- */}\n      <div className=\"filter-section\">\n        <div className=\"filter-header\">\n          <h3>Filter Applications by Date</h3>\n          <button className=\"reset-btn\" onClick={resetFilters}>Reset Filters</button>\n        </div>\n\n        <div className=\"filter-controls\">\n          <div className=\"filter-group\">\n            <label>Filter Type:</label>\n            <select value={filterType} onChange={(e) => {\n              setFilterType(e.target.value);\n              setCurrentPage(1);\n            }}>\n              <option value=\"all\">All Applications</option>\n              <option value=\"specific\">Specific Date</option>\n              <option value=\"range\">Date Range</option>\n            </select>\n          </div>\n\n          {filterType === \"specific\" && (\n            <div className=\"filter-group\">\n              <label>Select Date:</label>\n              <input\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => {\n                  setSelectedDate(e.target.value);\n                  setCurrentPage(1);\n                }}\n              />\n            </div>\n          )}\n\n          {filterType === \"range\" && (\n            <>\n              <div className=\"filter-group\">\n                <label>Start Date:</label>\n                <input\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => {\n                    setStartDate(e.target.value);\n                    setCurrentPage(1);\n                  }}\n                />\n              </div>\n\n              <div className=\"filter-group\">\n                <label>End Date:</label>\n                <input\n                  type=\"date\"\n                  value={endDate}\n                  onChange={(e) => {\n                    setEndDate(e.target.value);\n                    setCurrentPage(1);\n                  }}\n                />\n              </div>\n            </>\n          )}\n        </div>\n\n        {filterType !== \"all\" && (\n          <p className=\"filter-info\">\n            Showing {currentLoans.length} of {filteredLoans.length} applications\n          </p>\n        )}\n      </div>\n\n      <div className=\"summary-section\">\n        <div className=\"summary-card\">\n          <div className=\"summary-label\">Total Applications</div>\n          <div className=\"summary-value\">{totalApplications}</div>\n        </div>\n\n        <div className=\"summary-card\">\n          <div className=\"summary-label\">Successful Payments</div>\n          <div className=\"summary-value\" style={{ color: '#28a745' }}>{successfulPayments}</div>\n        </div>\n\n        <div className=\"summary-card\">\n          <div className=\"summary-label\">Total Verification Fees Paid</div>\n          <div className=\"summary-value\" style={{ color: '#007bff' }}>Ksh {totalVerificationFees.toLocaleString()}</div>\n        </div>\n\n        <div className=\"summary-card\">\n          <div className=\"summary-label\">Total Loan Amount Qualified</div>\n          <div className=\"summary-value\" style={{ color: '#ffc107' }}>Ksh {totalLoanAmount.toLocaleString()}</div>\n        </div>\n      </div>\n\n      <div className=\"table-wrapper\">\n        <table className=\"loan-table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Name</th>\n              <th>Phone</th>\n              <th>ID Number</th>\n              <th>Amount</th>\n              <th>Verification Fee</th>\n              <th>Status</th>\n              <th>Date Applied</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {currentLoans.length > 0 ? (\n              currentLoans.map((loan) => (\n                <tr key={loan.id}>\n                  <td>{loan.id}</td>\n                  <td>{loan.name}</td>\n                  <td>{loan.phone}</td>\n                  <td>{loan.idNumber}</td>\n                  <td>Ksh {loan.loanAmount.toLocaleString()}</td>\n                  <td>Ksh {loan.verificationFee}</td>\n                  <td>\n                    <span className={`status ${loan.status.toLowerCase()}`}>\n                      {loan.status}\n                    </span>\n                  </td>\n                  <td>\n                    {loan.applicationDate\n                      ? new Date(loan.applicationDate).toLocaleDateString('en-KE', {\n                          year: 'numeric',\n                          month: 'short',\n                          day: 'numeric',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })\n                      : 'N/A'}\n                  </td>\n                  <td>\n                    <button\n                      className=\"delete-btn\"\n                      onClick={() => handleDelete(loan.trackingId)}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"9\" style={{ textAlign: 'center', padding: '20px' }}>\n                  No applications found for the selected date filter\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n\n        {totalPages > 1 && (\n          <div className=\"pagination\">\n            <button\n              disabled={currentPage === 1}\n              onClick={() => setCurrentPage(currentPage - 1)}\n            >\n              Prev\n            </button>\n\n            {[...Array(totalPages)].map((_, index) => (\n              <button\n                key={index}\n                className={currentPage === index + 1 ? \"active\" : \"\"}\n                onClick={() => goToPage(index + 1)}\n              >\n                {index + 1}\n              </button>\n            ))}\n\n            <button\n              disabled={currentPage === totalPages}\n              onClick={() => setCurrentPage(currentPage + 1)}\n            >\n              Next\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}